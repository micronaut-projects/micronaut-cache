plugins {
    id 'io.micronaut.build.internal.cache-module'
}

dependencies {
    api project(":cache-core")

    api "org.infinispan:infinispan-core:$infinispanVersion"
    api "org.infinispan:infinispan-client-hotrod:$infinispanVersion"

    testImplementation project(":cache-tck")
    testImplementation "io.micronaut:micronaut-inject-groovy:$micronautVersion"
    testImplementation "io.micronaut.test:micronaut-test-spock:$micronautTestVersion"
    testImplementation "org.testcontainers:spock:1.16.3"
    testImplementation "io.micronaut:micronaut-http-client"
    testImplementation "io.projectreactor:reactor-core"
}

tasks.withType(Test) {
    systemProperty("infinispanVersion", infinispanVersion)
}